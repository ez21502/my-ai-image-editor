// Telegram WebApp SDK 本地回退版本
(function(){ 'use strict'; window.Telegram=window.Telegram||{}; window.Telegram.WebApp={initData:'',initDataUnsafe:{user:{id:1740576312,first_name:'LocalUser',last_name:'',username:'localuser'}},ready:function(){ if(this.onEvent){ this.onEvent('webview_ready');}},close:function(){ if(window.history.length>1){ window.history.back(); } else { window.close(); }},onEvent:function(eventType,callback){ if(callback){ this._eventCallbacks=this._eventCallbacks||{}; this._eventCallbacks[eventType]=callback; }},offEvent:function(eventType){ if(this._eventCallbacks&&this._eventCallbacks[eventType]){ delete this._eventCallbacks[eventType];}},sendData:function(data){ if(window.parent!==window){ window.parent.postMessage({type:'telegram_webapp_data',data:data},'*');}},expand:function(){ document.documentElement.style.height='100vh'; document.body.style.height='100vh';},closeScanQrPopup:function(){},version:'6.0',platform:'local',colorScheme:'dark',themeParams:{bg_color:'#1a1a1a',text_color:'#ffffff',hint_color:'#999999',link_color:'#3390ec',button_color:'#3390ec',button_text_color:'#ffffff'},isVersionAtLeast:function(version){ return this.version>=version; },_triggerEvent:function(eventType,data){ if(this._eventCallbacks&&this._eventCallbacks[eventType]){ try{ this._eventCallbacks[eventType](data);}catch(e){ } } } }; setTimeout(function(){ if(window.Telegram.WebApp._triggerEvent){ window.Telegram.WebApp._triggerEvent('webview_ready'); } },100); })();