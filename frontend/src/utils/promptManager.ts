import promptsConfig from '@/config/prompts.json'
export interface PromptConfig { defaultPrompt: string; prompts: string[]; settings: { autoSelectPrompt: boolean; rotatePrompts: boolean; customPromptEnabled: boolean } }
export class PromptManager { private config: PromptConfig; private currentIndex: number; constructor(config: PromptConfig = promptsConfig as PromptConfig) { this.config = config; this.currentIndex = 0 } getCurrentPrompt(): string { if (this.config.settings.autoSelectPrompt && this.config.prompts.length > 0) { return this.config.prompts[this.currentIndex] || this.config.defaultPrompt } return this.config.defaultPrompt } getNextPrompt(): string { if (this.config.settings.rotatePrompts && this.config.prompts.length > 1) { this.currentIndex = (this.currentIndex + 1) % this.config.prompts.length; return this.config.prompts[this.currentIndex] } return this.getCurrentPrompt() } getAllPrompts(): string[] { return this.config.prompts } getDefaultPrompt(): string { return this.config.defaultPrompt } setCurrentIndex(index: number): void { if (index >= 0 && index < this.config.prompts.length) { this.currentIndex = index } } getCurrentIndex(): number { return this.currentIndex } getRandomPrompt(): string { if (this.config.prompts.length === 0) { return this.config.defaultPrompt } const randomIndex = Math.floor(Math.random() * this.config.prompts.length); return this.config.prompts[randomIndex] } }
export const promptManager = new PromptManager()