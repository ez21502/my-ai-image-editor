import React,{useEffect}from'react'
import { useTMA } from '../providers/TMAProvider'
import { X } from 'lucide-react'
interface ModalProps{isOpen:boolean;onClose:()=>void;title?:string;children:React.ReactNode;size?:'small'|'medium'|'large';showCloseButton?:boolean}
export const Modal:React.FC<ModalProps>=({isOpen,onClose,title,children,size='medium',showCloseButton=true})=>{const{impactHaptic}=useTMA();useEffect(()=>{if(isOpen){impactHaptic('light')}},[isOpen,impactHaptic]);const handleClose=()=>{impactHaptic('light');onClose()};const handleBackdropClick=(e:React.MouseEvent)=>{if(e.target===e.currentTarget){handleClose()}};if(!isOpen)return null;const sizeClasses={small:'max-w-md',medium:'max-w-lg',large:'max-w-2xl'};return(<div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm" onClick={handleBackdropClick}><div className={`bg-white rounded-lg shadow-xl w-full mx-4 ${sizeClasses[size]}`}>{title&&(<div className="flex items-center justify-between p-4 border-b border-gray-200"><h3 className="text-lg font-semibold text-gray-900">{title}</h3>{showCloseButton&&(<button onClick={handleClose} className="text-gray-400 hover:text-gray-600 transition-colors"><X className="w-5 h-5" /></button>)}</div>)}<div className="p-6">{children}</div></div></div>)}